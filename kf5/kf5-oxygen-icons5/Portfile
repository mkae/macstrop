# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$
# Copyright (c) 2015, 2016 R.J.V. Bertin

PortSystem          1.0

set kf5.project     oxygen-icons5
set kf5.framework   yes
PortGroup           kf5 1.1
# we went from an Applications versioning (>= 15.x.y) to Frameworks versioning (>= 5.x.y)
epoch               5
set kf5.latest_version \
                    5.35.0

# we use 
if {${kf5.latest_version} ne ${kf5.version}} {
    kf5.use_latest  kf5.version
    version         ${kf5.version}
    checksums       rmd160  cb7d18ff262f240b2615b66545e855b1713d8a03 \
                    sha256  f361ed739f3803712b61c7fee8cebdfd3f5f958a6ad34935b204c8a6826354c5
} else {
    checksums       rmd160  28970b6b57261a17329e70e25d07c3ed78144af1 \
                    sha256  8edb201b9e8f75250cb99fde3aa26328a9e4a1520b1c6234a27261a21f5d6317
}

maintainers         gmail.com:rjvbertin mk openmaintainer

installs_libs       no
supported_archs     noarch

description         Oxygen icon theme
long_description    Oxygen icon theme, KF5 version (mostly identical to the KDE4 version from port:oxygen-icons).

conflicts           port:oxygen-icons

# all declared dependencies are build dependencies:
depends_build-append ${depends_lib}
depends_lib
depends_run-append  port:hicolor-icon-theme

kf5.allow_apidocs_generation no

kf5.kde4compat -port kdepim4 {
    post-destroot {
        foreach i [glob -nocomplain ${destroot}${prefix}/share/icons/oxygen/*/mimetypes/x-mail-distribution-list.png] {
            file delete -force ${i}
        }
    }
}
